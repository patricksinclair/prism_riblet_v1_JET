/*--------------------------------*- C++ -*----------------------------------*\
  =========                 |
  \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox
   \\    /   O peration     | Website:  https://openfoam.org
    \\  /    A nd           | Version:  7
     \\/     M anipulation  |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      blockMeshDict;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
 #includeIfPresent "../parameters.dat"


convertToMeters 1e-6;

//N of riblets
//d = 92 : 4
//d = 46 : 6
//d = 23 : 9
//
// ribletX_nC $d_92_params.ribletX_nC; //the no. of x-cells in the blocks on/above the riblets
// plateauX_nC $d_92_params.plateauX_nC; //the no. of x-cells in the blocks on/above the space between riblets
//
// surfaceY_nC $d_92_params.surfaceY_nC; //the no. of y-cells in the blocks on the surface
// fluidY_nC $d_92_params.fluidY_nC; //the n0. of y-cells in the blocks in the surrounding fluid (e.g. ocean)
//
ribletX_nC $d_46_params.ribletX_nC; //the no. of x-cells in the blocks on/above the riblets
plateauX_nC $d_46_params.plateauX_nC; //the no. of x-cells in the blocks on/above the space between riblets

surfaceY_nC $d_46_params.surfaceY_nC; //the no. of y-cells in the blocks on the surface
fluidY_nC $d_46_params.fluidY_nC; //the n0. of y-cells in the blocks in the surrounding fluid (e.g. ocean)
//
// ribletX_nC $d_23_params.ribletX_nC; //the no. of x-cells in the blocks on/above the riblets
// plateauX_nC $d_23_params.plateauX_nC; //the no. of x-cells in the blocks on/above the space between riblets
//
// surfaceY_nC $d_23_params.surfaceY_nC; //the no. of y-cells in the blocks on the surface
// fluidY_nC $d_23_params.fluidY_nC; //the n0. of y-cells in the blocks in the surrounding fluid (e.g. ocean)

LBlockX_nC 16; //no. of x-cells in the inlet blocks
RBlockX_nC 25; //no. of x-cells in the outlet blocks

r_grading_x 2; //grading of the x-mesh on the RHS of the riblet
l_grading_x #calc "1./$r_grading_x";

t_grading_y 6; //grading of the y-mesh on the bottom blocks (riblet surface)
b_grading_y #calc "1./2.";

outlet_xGrading 9; //x-grading of the outlet x-cells
inlet_xGrading #calc "1./$outlet_xGrading"; //x-grading of the inlet x-cells

vertices
(
	(0.000  0.000  0.000)	 //vertex 0
	(13.800  0.000  0.000)	 //vertex 1
	(23.000  0.000  0.000)	 //vertex 2
	(55.245  0.000  0.000)	 //vertex 3
	(64.445  0.000  0.000)	 //vertex 4
	(78.245  0.000  0.000)	 //vertex 5
	(92.045  0.000  0.000)	 //vertex 6
	(101.245  0.000  0.000)	 //vertex 7
	(133.489  0.000  0.000)	 //vertex 8
	(142.689  0.000  0.000)	 //vertex 9
	(156.489  0.000  0.000)	 //vertex 10
	(170.289  0.000  0.000)	 //vertex 11
	(179.489  0.000  0.000)	 //vertex 12
	(211.734  0.000  0.000)	 //vertex 13
	(220.934  0.000  0.000)	 //vertex 14
	(234.734  0.000  0.000)	 //vertex 15
	(248.534  0.000  0.000)	 //vertex 16
	(257.734  0.000  0.000)	 //vertex 17
	(289.978  0.000  0.000)	 //vertex 18
	(299.178  0.000  0.000)	 //vertex 19
	(312.978  0.000  0.000)	 //vertex 20
	(326.778  0.000  0.000)	 //vertex 21
	(335.978  0.000  0.000)	 //vertex 22
	(368.223  0.000  0.000)	 //vertex 23
	(377.423  0.000  0.000)	 //vertex 24
	(391.223  0.000  0.000)	 //vertex 25
	(405.023  0.000  0.000)	 //vertex 26
	(414.223  0.000  0.000)	 //vertex 27
	(446.467  0.000  0.000)	 //vertex 28
	(455.667  0.000  0.000)	 //vertex 29
	(469.467  0.000  0.000)	 //vertex 30
	(0.000  42.000  0.000)	 //vertex 31
	(13.800  42.000  0.000)	 //vertex 32
	(39.122  42.000  0.000)	 //vertex 33
	(64.445  42.000  0.000)	 //vertex 34
	(78.245  42.000  0.000)	 //vertex 35
	(92.045  42.000  0.000)	 //vertex 36
	(117.367  42.000  0.000)	 //vertex 37
	(142.689  42.000  0.000)	 //vertex 38
	(156.489  42.000  0.000)	 //vertex 39
	(170.289  42.000  0.000)	 //vertex 40
	(195.611  42.000  0.000)	 //vertex 41
	(220.934  42.000  0.000)	 //vertex 42
	(234.734  42.000  0.000)	 //vertex 43
	(248.534  42.000  0.000)	 //vertex 44
	(273.856  42.000  0.000)	 //vertex 45
	(299.178  42.000  0.000)	 //vertex 46
	(312.978  42.000  0.000)	 //vertex 47
	(326.778  42.000  0.000)	 //vertex 48
	(352.101  42.000  0.000)	 //vertex 49
	(377.423  42.000  0.000)	 //vertex 50
	(391.223  42.000  0.000)	 //vertex 51
	(405.023  42.000  0.000)	 //vertex 52
	(430.345  42.000  0.000)	 //vertex 53
	(455.667  42.000  0.000)	 //vertex 54
	(469.467  42.000  0.000)	 //vertex 55
	(0.000  200.000  0.000)	 //vertex 56
	(13.800  200.000  0.000)	 //vertex 57
	(39.122  200.000  0.000)	 //vertex 58
	(64.445  200.000  0.000)	 //vertex 59
	(78.245  200.000  0.000)	 //vertex 60
	(92.045  200.000  0.000)	 //vertex 61
	(117.367  200.000  0.000)	 //vertex 62
	(142.689  200.000  0.000)	 //vertex 63
	(156.489  200.000  0.000)	 //vertex 64
	(170.289  200.000  0.000)	 //vertex 65
	(195.611  200.000  0.000)	 //vertex 66
	(220.934  200.000  0.000)	 //vertex 67
	(234.734  200.000  0.000)	 //vertex 68
	(248.534  200.000  0.000)	 //vertex 69
	(273.856  200.000  0.000)	 //vertex 70
	(299.178  200.000  0.000)	 //vertex 71
	(312.978  200.000  0.000)	 //vertex 72
	(326.778  200.000  0.000)	 //vertex 73
	(352.101  200.000  0.000)	 //vertex 74
	(377.423  200.000  0.000)	 //vertex 75
	(391.223  200.000  0.000)	 //vertex 76
	(405.023  200.000  0.000)	 //vertex 77
	(430.345  200.000  0.000)	 //vertex 78
	(455.667  200.000  0.000)	 //vertex 79
	(469.467  200.000  0.000)	 //vertex 80
	(0.000  0.000  0.100)	 //vertex 81
	(13.800  0.000  0.100)	 //vertex 82
	(23.000  0.000  0.100)	 //vertex 83
	(55.245  0.000  0.100)	 //vertex 84
	(64.445  0.000  0.100)	 //vertex 85
	(78.245  0.000  0.100)	 //vertex 86
	(92.045  0.000  0.100)	 //vertex 87
	(101.245  0.000  0.100)	 //vertex 88
	(133.489  0.000  0.100)	 //vertex 89
	(142.689  0.000  0.100)	 //vertex 90
	(156.489  0.000  0.100)	 //vertex 91
	(170.289  0.000  0.100)	 //vertex 92
	(179.489  0.000  0.100)	 //vertex 93
	(211.734  0.000  0.100)	 //vertex 94
	(220.934  0.000  0.100)	 //vertex 95
	(234.734  0.000  0.100)	 //vertex 96
	(248.534  0.000  0.100)	 //vertex 97
	(257.734  0.000  0.100)	 //vertex 98
	(289.978  0.000  0.100)	 //vertex 99
	(299.178  0.000  0.100)	 //vertex 100
	(312.978  0.000  0.100)	 //vertex 101
	(326.778  0.000  0.100)	 //vertex 102
	(335.978  0.000  0.100)	 //vertex 103
	(368.223  0.000  0.100)	 //vertex 104
	(377.423  0.000  0.100)	 //vertex 105
	(391.223  0.000  0.100)	 //vertex 106
	(405.023  0.000  0.100)	 //vertex 107
	(414.223  0.000  0.100)	 //vertex 108
	(446.467  0.000  0.100)	 //vertex 109
	(455.667  0.000  0.100)	 //vertex 110
	(469.467  0.000  0.100)	 //vertex 111
	(0.000  42.000  0.100)	 //vertex 112
	(13.800  42.000  0.100)	 //vertex 113
	(39.122  42.000  0.100)	 //vertex 114
	(64.445  42.000  0.100)	 //vertex 115
	(78.245  42.000  0.100)	 //vertex 116
	(92.045  42.000  0.100)	 //vertex 117
	(117.367  42.000  0.100)	 //vertex 118
	(142.689  42.000  0.100)	 //vertex 119
	(156.489  42.000  0.100)	 //vertex 120
	(170.289  42.000  0.100)	 //vertex 121
	(195.611  42.000  0.100)	 //vertex 122
	(220.934  42.000  0.100)	 //vertex 123
	(234.734  42.000  0.100)	 //vertex 124
	(248.534  42.000  0.100)	 //vertex 125
	(273.856  42.000  0.100)	 //vertex 126
	(299.178  42.000  0.100)	 //vertex 127
	(312.978  42.000  0.100)	 //vertex 128
	(326.778  42.000  0.100)	 //vertex 129
	(352.101  42.000  0.100)	 //vertex 130
	(377.423  42.000  0.100)	 //vertex 131
	(391.223  42.000  0.100)	 //vertex 132
	(405.023  42.000  0.100)	 //vertex 133
	(430.345  42.000  0.100)	 //vertex 134
	(455.667  42.000  0.100)	 //vertex 135
	(469.467  42.000  0.100)	 //vertex 136
	(0.000  200.000  0.100)	 //vertex 137
	(13.800  200.000  0.100)	 //vertex 138
	(39.122  200.000  0.100)	 //vertex 139
	(64.445  200.000  0.100)	 //vertex 140
	(78.245  200.000  0.100)	 //vertex 141
	(92.045  200.000  0.100)	 //vertex 142
	(117.367  200.000  0.100)	 //vertex 143
	(142.689  200.000  0.100)	 //vertex 144
	(156.489  200.000  0.100)	 //vertex 145
	(170.289  200.000  0.100)	 //vertex 146
	(195.611  200.000  0.100)	 //vertex 147
	(220.934  200.000  0.100)	 //vertex 148
	(234.734  200.000  0.100)	 //vertex 149
	(248.534  200.000  0.100)	 //vertex 150
	(273.856  200.000  0.100)	 //vertex 151
	(299.178  200.000  0.100)	 //vertex 152
	(312.978  200.000  0.100)	 //vertex 153
	(326.778  200.000  0.100)	 //vertex 154
	(352.101  200.000  0.100)	 //vertex 155
	(377.423  200.000  0.100)	 //vertex 156
	(391.223  200.000  0.100)	 //vertex 157
	(405.023  200.000  0.100)	 //vertex 158
	(430.345  200.000  0.100)	 //vertex 159
	(455.667  200.000  0.100)	 //vertex 160
	(469.467  200.000  0.100)	 //vertex 161

	(-500.000  0.000  0.000)	 //(edge block) vertex 0
	(-500.000  42.000  0.000)	 //(edge block) vertex 1
	(-500.000  200.000  0.000)	 //(edge block) vertex 2
	(-500.000  0.000  0.100)	 //(edge block) vertex 3
	(-500.000  42.000  0.100)	 //(edge block) vertex 4
	(-500.000  200.000  0.100)	 //(edge block) vertex 5
	(969.467  0.000  0.000)	 //(edge block) vertex 6
	(969.467  42.000  0.000)	 //(edge block) vertex 7
	(969.467  200.000  0.000)	 //(edge block) vertex 8
	(969.467  0.000  0.100)	 //(edge block) vertex 9
	(969.467  42.000  0.100)	 //(edge block) vertex 10
	(969.467  200.000  0.100)	 //(edge block) vertex 11

);


blocks
(
	hex (0 1 32 31 81 82 113 112) 	($plateauX_nC $surfaceY_nC 1) 	simpleGrading (1 $b_grading_y 1)      	//riblet 0, block 0
	hex (1 2 33 32 82 83 114 113) 	($ribletX_nC $surfaceY_nC 1) 	simpleGrading ($l_grading_x $b_grading_y 1)      	//riblet 0, block 1
	hex (3 4 34 33 84 85 115 114) 	($ribletX_nC $surfaceY_nC 1) 	simpleGrading ($r_grading_x $b_grading_y 1)      	//riblet 0, block 2
	hex (4 5 35 34 85 86 116 115) 	($plateauX_nC $surfaceY_nC 1) 	simpleGrading (1 $b_grading_y 1)      	//riblet 0, block 3
	hex (31 32 57 56 112 113 138 137) 	($plateauX_nC $fluidY_nC 1) 	simpleGrading (1 $t_grading_y 1)      	//riblet 0, block 4
	hex (32 33 58 57 113 114 139 138) 	($ribletX_nC $fluidY_nC 1) 	simpleGrading ($l_grading_x $t_grading_y 1)      	//riblet 0, block 5
	hex (33 34 59 58 114 115 140 139) 	($ribletX_nC $fluidY_nC 1) 	simpleGrading ($r_grading_x $t_grading_y 1)      	//riblet 0, block 6
	hex (34 35 60 59 115 116 141 140) 	($plateauX_nC $fluidY_nC 1) 	simpleGrading (1 $t_grading_y 1)      	//riblet 0, block 7

	hex (5 6 36 35 86 87 117 116) 	($plateauX_nC $surfaceY_nC 1) 	simpleGrading (1 $b_grading_y 1)      	//riblet 1, block 0
	hex (6 7 37 36 87 88 118 117) 	($ribletX_nC $surfaceY_nC 1) 	simpleGrading ($l_grading_x $b_grading_y 1)      	//riblet 1, block 1
	hex (8 9 38 37 89 90 119 118) 	($ribletX_nC $surfaceY_nC 1) 	simpleGrading ($r_grading_x $b_grading_y 1)      	//riblet 1, block 2
	hex (9 10 39 38 90 91 120 119) 	($plateauX_nC $surfaceY_nC 1) 	simpleGrading (1 $b_grading_y 1)      	//riblet 1, block 3
	hex (35 36 61 60 116 117 142 141) 	($plateauX_nC $fluidY_nC 1) 	simpleGrading (1 $t_grading_y 1)      	//riblet 1, block 4
	hex (36 37 62 61 117 118 143 142) 	($ribletX_nC $fluidY_nC 1) 	simpleGrading ($l_grading_x $t_grading_y 1)      	//riblet 1, block 5
	hex (37 38 63 62 118 119 144 143) 	($ribletX_nC $fluidY_nC 1) 	simpleGrading ($r_grading_x $t_grading_y 1)      	//riblet 1, block 6
	hex (38 39 64 63 119 120 145 144) 	($plateauX_nC $fluidY_nC 1) 	simpleGrading (1 $t_grading_y 1)      	//riblet 1, block 7

	hex (10 11 40 39 91 92 121 120) 	($plateauX_nC $surfaceY_nC 1) 	simpleGrading (1 $b_grading_y 1)      	//riblet 2, block 0
	hex (11 12 41 40 92 93 122 121) 	($ribletX_nC $surfaceY_nC 1) 	simpleGrading ($l_grading_x $b_grading_y 1)      	//riblet 2, block 1
	hex (13 14 42 41 94 95 123 122) 	($ribletX_nC $surfaceY_nC 1) 	simpleGrading ($r_grading_x $b_grading_y 1)      	//riblet 2, block 2
	hex (14 15 43 42 95 96 124 123) 	($plateauX_nC $surfaceY_nC 1) 	simpleGrading (1 $b_grading_y 1)      	//riblet 2, block 3
	hex (39 40 65 64 120 121 146 145) 	($plateauX_nC $fluidY_nC 1) 	simpleGrading (1 $t_grading_y 1)      	//riblet 2, block 4
	hex (40 41 66 65 121 122 147 146) 	($ribletX_nC $fluidY_nC 1) 	simpleGrading ($l_grading_x $t_grading_y 1)      	//riblet 2, block 5
	hex (41 42 67 66 122 123 148 147) 	($ribletX_nC $fluidY_nC 1) 	simpleGrading ($r_grading_x $t_grading_y 1)      	//riblet 2, block 6
	hex (42 43 68 67 123 124 149 148) 	($plateauX_nC $fluidY_nC 1) 	simpleGrading (1 $t_grading_y 1)      	//riblet 2, block 7

	hex (15 16 44 43 96 97 125 124) 	($plateauX_nC $surfaceY_nC 1) 	simpleGrading (1 $b_grading_y 1)      	//riblet 3, block 0
	hex (16 17 45 44 97 98 126 125) 	($ribletX_nC $surfaceY_nC 1) 	simpleGrading ($l_grading_x $b_grading_y 1)      	//riblet 3, block 1
	hex (18 19 46 45 99 100 127 126) 	($ribletX_nC $surfaceY_nC 1) 	simpleGrading ($r_grading_x $b_grading_y 1)      	//riblet 3, block 2
	hex (19 20 47 46 100 101 128 127) 	($plateauX_nC $surfaceY_nC 1) 	simpleGrading (1 $b_grading_y 1)      	//riblet 3, block 3
	hex (43 44 69 68 124 125 150 149) 	($plateauX_nC $fluidY_nC 1) 	simpleGrading (1 $t_grading_y 1)      	//riblet 3, block 4
	hex (44 45 70 69 125 126 151 150) 	($ribletX_nC $fluidY_nC 1) 	simpleGrading ($l_grading_x $t_grading_y 1)      	//riblet 3, block 5
	hex (45 46 71 70 126 127 152 151) 	($ribletX_nC $fluidY_nC 1) 	simpleGrading ($r_grading_x $t_grading_y 1)      	//riblet 3, block 6
	hex (46 47 72 71 127 128 153 152) 	($plateauX_nC $fluidY_nC 1) 	simpleGrading (1 $t_grading_y 1)      	//riblet 3, block 7

	hex (20 21 48 47 101 102 129 128) 	($plateauX_nC $surfaceY_nC 1) 	simpleGrading (1 $b_grading_y 1)      	//riblet 4, block 0
	hex (21 22 49 48 102 103 130 129) 	($ribletX_nC $surfaceY_nC 1) 	simpleGrading ($l_grading_x $b_grading_y 1)      	//riblet 4, block 1
	hex (23 24 50 49 104 105 131 130) 	($ribletX_nC $surfaceY_nC 1) 	simpleGrading ($r_grading_x $b_grading_y 1)      	//riblet 4, block 2
	hex (24 25 51 50 105 106 132 131) 	($plateauX_nC $surfaceY_nC 1) 	simpleGrading (1 $b_grading_y 1)      	//riblet 4, block 3
	hex (47 48 73 72 128 129 154 153) 	($plateauX_nC $fluidY_nC 1) 	simpleGrading (1 $t_grading_y 1)      	//riblet 4, block 4
	hex (48 49 74 73 129 130 155 154) 	($ribletX_nC $fluidY_nC 1) 	simpleGrading ($l_grading_x $t_grading_y 1)      	//riblet 4, block 5
	hex (49 50 75 74 130 131 156 155) 	($ribletX_nC $fluidY_nC 1) 	simpleGrading ($r_grading_x $t_grading_y 1)      	//riblet 4, block 6
	hex (50 51 76 75 131 132 157 156) 	($plateauX_nC $fluidY_nC 1) 	simpleGrading (1 $t_grading_y 1)      	//riblet 4, block 7

	hex (25 26 52 51 106 107 133 132) 	($plateauX_nC $surfaceY_nC 1) 	simpleGrading (1 $b_grading_y 1)      	//riblet 5, block 0
	hex (26 27 53 52 107 108 134 133) 	($ribletX_nC $surfaceY_nC 1) 	simpleGrading ($l_grading_x $b_grading_y 1)      	//riblet 5, block 1
	hex (28 29 54 53 109 110 135 134) 	($ribletX_nC $surfaceY_nC 1) 	simpleGrading ($r_grading_x $b_grading_y 1)      	//riblet 5, block 2
	hex (29 30 55 54 110 111 136 135) 	($plateauX_nC $surfaceY_nC 1) 	simpleGrading (1 $b_grading_y 1)      	//riblet 5, block 3
	hex (51 52 77 76 132 133 158 157) 	($plateauX_nC $fluidY_nC 1) 	simpleGrading (1 $t_grading_y 1)      	//riblet 5, block 4
	hex (52 53 78 77 133 134 159 158) 	($ribletX_nC $fluidY_nC 1) 	simpleGrading ($l_grading_x $t_grading_y 1)      	//riblet 5, block 5
	hex (53 54 79 78 134 135 160 159) 	($ribletX_nC $fluidY_nC 1) 	simpleGrading ($r_grading_x $t_grading_y 1)      	//riblet 5, block 6
	hex (54 55 80 79 135 136 161 160) 	($plateauX_nC $fluidY_nC 1) 	simpleGrading (1 $t_grading_y 1)      	//riblet 5, block 7

	hex (162 0 31 163 165 81 112 166) 	($LBlockX_nC $surfaceY_nC 1) 	simpleGrading ($inlet_xGrading $b_grading_y 1)        	//LHS, block 0
	hex (163 31 56 164 166 112 137 167) 	($LBlockX_nC $fluidY_nC 1) 	simpleGrading ($inlet_xGrading $t_grading_y 1)        	//LHS, block 1
	hex (30 168 169 55 111 171 172 136) 	($RBlockX_nC $surfaceY_nC 1) 	simpleGrading ($outlet_xGrading $b_grading_y 1)        	//RHS, block 0
	hex (55 169 170 80 136 172 173 161) 	($RBlockX_nC $fluidY_nC 1) 	simpleGrading ($outlet_xGrading $t_grading_y 1)        	//RHS, block 1

);


edges();


boundary
(
	leftWall
	{
		type patch;
		faces
		(
		(162 163 166 165)
		(163 164 167 166)
		);
	}


	rightWall
	{
		type patch;
		faces
		(
		(168 171 172 169)
		(169 172 173 170)
		);
	}

	lowerWall
	{
		type wall;
		faces
		(
		(0 81 82 1)
		(1 82 83 2)
		(2 83 114 33)
		(33 114 84 3)
		(3 84 85 4)
		(4 85 86 5)
		(5 86 87 6)
		(6 87 88 7)
		(7 88 118 37)
		(37 118 89 8)
		(8 89 90 9)
		(9 90 91 10)
		(10 91 92 11)
		(11 92 93 12)
		(12 93 122 41)
		(41 122 94 13)
		(13 94 95 14)
		(14 95 96 15)
		(15 96 97 16)
		(16 97 98 17)
		(17 98 126 45)
		(45 126 99 18)
		(18 99 100 19)
		(19 100 101 20)
		(20 101 102 21)
		(21 102 103 22)
		(22 103 130 49)
		(49 130 104 23)
		(23 104 105 24)
		(24 105 106 25)
		(25 106 107 26)
		(26 107 108 27)
		(27 108 134 53)
		(53 134 109 28)
		(28 109 110 29)
		(29 110 111 30)
		(162 165 81 0)
		(30 111 171 168)
		);
	}

	upperWall
	{
		type patch;
		faces
		(
		(56 57 138 137)
		(57 58 139 138)
		(58 59 140 139)
		(59 60 141 140)
		(60 61 142 141)
		(61 62 143 142)
		(62 63 144 143)
		(63 64 145 144)
		(64 65 146 145)
		(65 66 147 146)
		(66 67 148 147)
		(67 68 149 148)
		(68 69 150 149)
		(69 70 151 150)
		(70 71 152 151)
		(71 72 153 152)
		(72 73 154 153)
		(73 74 155 154)
		(74 75 156 155)
		(75 76 157 156)
		(76 77 158 157)
		(77 78 159 158)
		(78 79 160 159)
		(79 80 161 160)
		(164 56 137 167)
		(80 170 173 161)
		);
	}
);


mergePatchPairs();
